(function(e){function t(t){for(var o,c,a=t[0],s=t[1],d=t[2],l=0,f=[];l<a.length;l++)c=a[l],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(f.length)f.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],o=!0,a=1;a<r.length;a++){var s=r[a];0!==i[s]&&(o=!1)}o&&(n.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},i={app:0},n=[];function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/recorder/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var u=s;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var o=r("85ec"),i=r.n(o);i.a},"0d9c":function(e,t,r){},"161c":function(e,t,r){e.exports=r.p+"img/record.dd0f186c.svg"},"3e42":function(e,t,r){e.exports=r.p+"img/mic-disabled.0acb2fb5.svg"},"3e59":function(e,t,r){"use strict";var o=r("973c"),i=r.n(o);i.a},"51b3":function(e,t,r){e.exports=r.p+"img/cam-disabled.d7ea1aaf.svg"},"56b4":function(e,t,r){e.exports=r.p+"img/stop.13cd48df.svg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r(e.currentPage,{tag:"component",on:{go:e.onGoToRecorderPage}})],1)},n=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"start-page"},[r("h1",[e._v(" Screen video recorder ")]),r("button",{staticClass:"button",on:{click:e.onGo}},[e._v("Let's go")])])},a=[],s={name:"Start-Page",methods:{onGo:function(){this.$emit("go")}}},d=s,u=(r("6d83"),r("2877")),l=Object(u["a"])(d,c,a,!1,null,"d6ac7100",null),f=l.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recorder-page"},[r("app-media-recorder",{attrs:{videoStream:e.videoStream,audioStream:e.audioStream}})],1)},p=[],h=(r("96cf"),r("1da1")),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"media-recorder"},[o("div",{staticClass:"video-cantainer",style:e.videoContainerStyles},[o("video",{ref:"video",staticClass:"video",attrs:{controls:e.showVideo,width:e.videoSizes[0],height:e.videoHeight[1],src:e.recordUrl}})]),o("div",{staticClass:"controls"},[o("button",{staticClass:"button",attrs:{disabled:e.mediaToggleDisabled,title:e.toggleVideoTitle},on:{click:e.onToggleRecordVideo}},[e.recordVideo?o("img",{staticClass:"icon",attrs:{src:r("cc4e")}}):o("img",{staticClass:"icon",attrs:{src:r("51b3")}})]),o("button",{staticClass:"button",attrs:{disabled:e.mediaToggleDisabled,title:e.toggleAudioTitle},on:{click:e.onToggleRecordAudio}},[e.recordAudio?o("img",{staticClass:"icon",attrs:{src:r("6366")}}):o("img",{staticClass:"icon",attrs:{src:r("3e42")}})]),e.showStartRecordingButton?o("button",{staticClass:"button",attrs:{title:"Start recording"},on:{click:e.onStartRecording}},[o("img",{staticClass:"icon",attrs:{src:r("161c")}})]):o("button",{staticClass:"button",attrs:{title:"Stop"},on:{click:e.onStopRecording}},[o("img",{staticClass:"icon",attrs:{src:r("56b4")}})]),e.showPauseRecordingButton?o("button",{staticClass:"button",attrs:{title:"Pause"},on:{click:e.onPauseRecording}},[o("img",{staticClass:"icon",attrs:{src:r("644b")}})]):o("button",{staticClass:"button",attrs:{disabled:e.resumeButtonDisabled,title:"Resume"},on:{click:e.onResumeRecording}},[o("img",{staticClass:"icon",attrs:{src:r("b458")}})]),o("button",{staticClass:"button",attrs:{disabled:e.downloadButtonDisabled,title:"Download"},on:{click:e.onDownloadRecord}},[o("img",{staticClass:"icon",attrs:{src:r("f28e")}})])])])},b=[],v=(r("4de4"),r("0481"),r("d81d"),r("4069"),r("a9e3"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),{RECORDING:"recording",INACTIVE:"inactive",PAUSED:"paused"}),S=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t.map((function(e){return e&&e.getTracks()})).filter((function(e){return!!e})).flat();return new MediaStream(o)},w={name:"AppMediaRecorder",props:{videoStream:{type:[MediaStream,Boolean],default:!1},audioStream:{type:[MediaStream,Boolean],default:!1},videoWidth:{type:Number,default:300},videoHeight:{type:Number,default:300}},data:function(){return{recordBlob:null,recordVideo:!0,recordAudio:!1,recorderState:v.INACTIVE}},computed:{mediaToggleDisabled:function(){return this.recorderState!==v.INACTIVE},toggleVideoTitle:function(){return this.recordVideo?"Disable video recording":"Enable video recording"},toggleAudioTitle:function(){return this.recordAudio?"Disable audio recording":"Enable audio recording"},videoSizes:function(){var e=window.innerWidth,t=window.innerHeight,r=e/t,o=Math.min(e,800),i=o/r;return[o,i]},videoContainerStyles:function(){return{"--video-width":"".concat(this.videoSizes[0],"px"),"--video-height":"".concat(this.videoSizes[1],"px")}},showVideo:function(){return""!==this.recordUrl},combinedStream:function(){return this.waitForAudioStream||this.waitForVideoStream?null:S.apply(void 0,[this.recordAudio&&this.audioStream,this.recordVideo&&this.videoStream])},waitForAudioStream:function(){return this.recordAudio&&!this.audioStream&&!1!==this.audioStream},waitForVideoStream:function(){return this.recordVideo&&!this.videoStream&&!1!==this.videoStream},recorder:function(){var e=this;if(!this.combinedStream)return null;var t=new MediaRecorder(this.combinedStream);return t.ondataavailable=function(t){return e.recordBlob=t.data},t},showStartRecordingButton:function(){return this.recorderState===v.INACTIVE},showPauseRecordingButton:function(){return this.recorderState===v.RECORDING},recordUrl:function(){return this.recordBlob?URL.createObjectURL(this.recordBlob):""},resumeButtonDisabled:function(){return this.recorderState!==v.PAUSED},downloadButtonDisabled:function(){return!this.recordBlob}},methods:{onToggleRecordAudio:function(){this.recordAudio=!this.recordAudio},onToggleRecordVideo:function(){this.recordVideo=!this.recordVideo},onStopRecording:function(){this.recorder.stop(),this.recorderState=this.recorder.state,this.$refs.video.srcObject&&(this.$refs.video.srcObject=null)},onStartRecording:function(){var e=this;this.recordBlob=null,this.$nextTick((function(){e.recorder.start(),e.recorderState=e.recorder.state,e.recordVideo&&(e.$refs.video.srcObject=e.videoStream,e.$refs.video.play())}))},onPauseRecording:function(){this.recorder.pause(),this.recorderState=this.recorder.state,this.recordVideo&&this.$refs.video.pause()},onResumeRecording:function(){this.recorder.resume(),this.recorderState=this.recorder.state,this.recordVideo&&this.$refs.video.play()},onDownloadRecord:function(){if(""!==this.recordUrl){var e=document.createElement("a");e.href=this.recordUrl,e.download="screen-record-".concat(Date.now()),e.click()}}}},R=w,C=(r("c181"),Object(u["a"])(R,m,b,!1,null,"720bf669",null)),y=C.exports,x=function(){return navigator.mediaDevices.getDisplayMedia().catch(console.error)},A=function(){return navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).catch(console.error)},P={name:"RecorderPage",components:{AppMediaRecorder:y},data:function(){return{audioStream:!1,videoStream:!1}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return e.audioStream=t.sent,t.next=5,x();case 5:e.videoStream=t.sent;case 6:case"end":return t.stop()}}),t)})))()}},O=P,T=(r("3e59"),Object(u["a"])(O,g,p,!1,null,"d11cfd24",null)),V=T.exports,D={name:"App",components:{StartPage:f,RecorderPage:V},data:function(){return{currentPage:f}},methods:{onGoToRecorderPage:function(){this.currentPage=V}}},j=D,B=(r("034f"),Object(u["a"])(j,i,n,!1,null,null,null)),_=B.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(_)}}).$mount("#app")},6366:function(e,t,r){e.exports=r.p+"img/mic.7335f26b.svg"},"644b":function(e,t,r){e.exports=r.p+"img/pause.a9210ccd.svg"},"6d83":function(e,t,r){"use strict";var o=r("0d9c"),i=r.n(o);i.a},"85b9":function(e,t,r){},"85ec":function(e,t,r){},"973c":function(e,t,r){},b458:function(e,t,r){e.exports=r.p+"img/resume-record.bb819594.svg"},c181:function(e,t,r){"use strict";var o=r("85b9"),i=r.n(o);i.a},cc4e:function(e,t,r){e.exports=r.p+"img/cam.9b05e5b6.svg"},f28e:function(e,t,r){e.exports=r.p+"img/download.e48ed1de.svg"}});
//# sourceMappingURL=app.f995394b.js.map