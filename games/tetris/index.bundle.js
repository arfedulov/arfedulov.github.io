!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COLOR_THEMES={DEFAULT:{background:"#FFFFFF",tetrominos:["#D9E5D6","#5FAD56","#FFA630","#F15946","#254E70"]}},e.BOARD_SIZES={width:15,height:25},e.BLOCK_SIZE=30,e.GAP_SIZE=1,e.KEYBOARD_KEYS_SETTINGS={RIGHT:["ArrowRight","d"],LEFT:["ArrowLeft","a"],DOWN:["ArrowDown","s"],ROTATE:["ArrowUp","w"],PAUSE:["Escape","p"],STOP:["CustomStop"],PLAY:["CustomPlay"]},e.DOM_ELEMENT_IDS={CANVAS_ELEMENT:"canvas"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(2).loadGame()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(3),i=r(4),a=r(0),s=r(6),u=r(0),l=r(7),c=r(8),f={x:Math.floor(a.BOARD_SIZES.width/2),y:-3},y=function(){function t(){var t=this;this.status="stopped",this.colorTheme=u.COLOR_THEMES.DEFAULT,this.step=function(e){t.execMovementListeners(),e-t.lastGameCycle>800&&"running"===t.status&&(t.lastGameCycle=e,t.cycle()),t.tetromino?t.renderer.render(t.tetromino,t.board):t.renderer.render(t.board),"running"===t.status&&window.requestAnimationFrame(t.step)},this.setupControlsListeners(),this.renderer=c.getRenderer(),this.controls=s.getControls(),this.board=o.getBoard(),this.spawnTetromino(),this.lastGameCycle=performance.now(),l.screens.displayStartScreen()}return t.prototype.setupControlsListeners=function(){var t=this;window.addEventListener("keyup",(function(e){var r=e.key;u.KEYBOARD_KEYS_SETTINGS.PLAY.includes(r)&&t.play(),u.KEYBOARD_KEYS_SETTINGS.STOP.includes(r)&&t.stop(),u.KEYBOARD_KEYS_SETTINGS.PAUSE.includes(r)&&t.pause()}))},t.prototype.run=function(){this.status="running",window.requestAnimationFrame(this.step)},t.prototype.pause=function(){"running"===this.status&&(this.status="paused",l.screens.displayPauseScreen())},t.prototype.play=function(){l.screens.hideAll(),this.run()},t.prototype.stop=function(){this.status="stopped",this.resetGame(),l.screens.displayStartScreen()},t.prototype.resetGame=function(){this.board.clear(),this.renderer.clear(),this.spawnTetromino()},t.prototype.spawnTetromino=function(){this.tetromino=i.createTetromino(f,this.colorTheme.tetrominos,this.board)},t.prototype.cycle=function(){this.tetromino&&this.tetromino.isStuck()&&(this.board.addElements(this.tetromino.getElements()),this.spawnTetromino()),this.moveTetrominoDown(),this.destroyFullRows(),this.isGameOver()&&this.stop()},t.prototype.execMovementListeners=function(){this.tetromino&&(this.controls.left&&this.tetromino.moveLeft(),this.controls.right&&this.tetromino.moveRight(),this.controls.down&&this.tetromino.moveDown(),this.controls.rotate&&this.tetromino.rotate())},t.prototype.isGameOver=function(){return this.tetromino&&this.tetromino.isStuck()&&this.tetromino.isOutOfBoard()},t.prototype.destroyFullRows=function(){for(var t=this.board.getRowToDestroy();void 0!==t;)this.board.destroyRow(t),t=this.board.getRowToDestroy()},t.prototype.moveTetrominoDown=function(){this.tetromino&&!this.tetromino.isStuck()&&this.tetromino.moveDown()},t}();e.loadGame=function(){n||(n=new y)}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var i,a=r(0),s=function(t){return t.x+","+t.y},u=function(t){var e=n(t.split(",").map(Number),2);return{x:e[0],y:e[1]}},l=function(){function t(){this.table=new Map}return t.prototype.addElements=function(t){var e,r;try{for(var n=o(t),i=n.next();!i.done;i=n.next()){var a=i.value,u=a.x,l=a.y,c=s({x:u,y:l});if(this.table.has(c))throw Error("The position ("+u+", "+l+") on the board is not empty");this.table.set(c,a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.destroyRowAndMoveDown=function(t){this.destroyRow(t),this.moveAllDown(t)},t.prototype.isPositionEmpty=function(t){return!this.table.has(s(t))},t.prototype.getElements=function(){return this.table.values()},t.prototype.getFirstFullRow=function(){var t,e,r=Array.from(this.table.keys()).sort((function(t,e){return u(t).y-u(e).y})),i=0,s=n(r,1)[0];try{for(var l=o(r),c=l.next();!c.done;c=l.next()){var f=c.value,y=u(f).y;if(y===u(s).y?i+=1:i=1,s=f,i>=a.BOARD_SIZES.width)return y}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}},t.prototype.moveAllDown=function(t){var e=this,r=Array.from(this.table.keys()).filter((function(e){return u(e).y<t})),n=r.map((function(t){return e.table.get(t)}));r.forEach((function(t){e.table.delete(t)})),n.forEach((function(t){t.y+=1,e.table.set(s(t),t)}))},t.prototype.destroyRow=function(t){var e=this;Array.from(this.table.keys()).filter((function(e){return u(e).y===t})).forEach((function(t){e.table.delete(t)}))},t}(),c=function(){function t(){this.elements=new l}return t.prototype.clear=function(){this.elements=new l},t.prototype.addElements=function(t){this.elements.addElements(t)},t.prototype.getElements=function(){return this.elements.getElements()},t.prototype.isPositionFilled=function(t){return!this.elements.isPositionEmpty(t)},t.prototype.isPositionInsideBoardOrAbove=function(t){var e=t.x,r=t.y,n=a.BOARD_SIZES.width,o=a.BOARD_SIZES.height;return e>=0&&e<=n-1&&r<=o-1},t.prototype.destroyRow=function(t){this.elements.destroyRowAndMoveDown(t)},t.prototype.getRowToDestroy=function(){return this.elements.getFirstFullRow()},t}();e.getBoard=function(){return i||(i=new c),i}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),u=r(0),l=[function(t,e){var r=t.x,n=t.y;return[{x:r-2,y:n,color:e},{x:r-1,y:n,color:e},{x:r-0,y:n,color:e},{x:r+1,y:n,color:e}]},function(t,e){var r=t.x,n=t.y;return[{x:r-1,y:n,color:e},{x:r-0,y:n,color:e},{x:r-1,y:n+1,color:e},{x:r-0,y:n+1,color:e}]},function(t,e){var r=t.x,n=t.y;return[{x:r-0,y:n-1,color:e},{x:r-0,y:n-0,color:e},{x:r-0,y:n+1,color:e},{x:r+1,y:n+1,color:e}]},function(t,e){var r=t.x,n=t.y;return[{x:r-1,y:n-1,color:e},{x:r-1,y:n-0,color:e},{x:r-0,y:n-0,color:e},{x:r-0,y:n+1,color:e}]},function(t,e){var r=t.x,n=t.y;return[{x:r-1,y:n-0,color:e},{x:r-0,y:n-0,color:e},{x:r+1,y:n-0,color:e},{x:r-0,y:n+1,color:e}]}],c={down:{tx:0,ty:1},left:{tx:-1,ty:0},right:{tx:1,ty:0}},f=function(){function t(t){var e=t.initialPosition,r=t.color,o=t.initialRotation,i=t.board,a=t.type;this.pivot=n({},e),this.board=i,this.stuck=!1,this.elements=l[a](e,r),this.applyRotation(o)}return t.prototype.isStuck=function(){return this.stuck},t.prototype.isOutOfBoard=function(){var t,e;try{for(var r=o(this.elements),n=r.next();!n.done;n=r.next()){if(n.value.y<0)return!0}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return!1},t.prototype.getElements=function(){return a(this.elements)},t.prototype.moveRight=function(){this.move("right")},t.prototype.moveLeft=function(){this.move("left")},t.prototype.moveDown=function(){this.move("down")},t.prototype.rotate=function(){var t=Math.PI/2;this.canRotate(t)&&this.applyRotation(t)},t.prototype.canRotate=function(t){var e,r;try{for(var n=o(this.elements),i=n.next();!i.done;i=n.next()){var a=i.value,l=a.x,c=a.y,f=s.computeRotatedPoint({x:l,y:c},this.pivot,t);if(!(f.x>=0&&f.x<u.BOARD_SIZES.width&&f.y<u.BOARD_SIZES.height))return!1}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return!0},t.prototype.applyRotation=function(t){var e=this;this.elements=this.elements.map((function(r){var o=r.x,i=r.y,a=s.computeRotatedPoint({x:o,y:i},e.pivot,t);return n(n({},r),a)}))},t.prototype.getMovedElements=function(t){return this.elements.map((function(e){var r=e.x,o=e.y,i=c[t],a=i.tx,u=i.ty,l=s.computeTranslatedPoint({x:r,y:o},a,u);return n(n({},e),l)}))},t.prototype.getMovedPivot=function(t){var e=c[t],r=e.tx,n=e.ty;return s.computeTranslatedPoint(this.pivot,r,n)},t.prototype.canMove=function(t){var e,r,n=this.getMovedElements(t);try{for(var i=o(n),a=i.next();!a.done;a=i.next()){var s=a.value,u=s.x,l=s.y;if(!this.board.isPositionInsideBoardOrAbove({x:u,y:l})||this.board.isPositionFilled({x:u,y:l}))return!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.move=function(t){this.canMove(t)?(this.elements=this.getMovedElements(t),this.pivot=this.getMovedPivot(t)):"down"===t&&(this.stuck=!0)},t}(),y=[0,1,2,3,4];e.createTetromino=function(t,e,r){var n,o=function(t){return t[Math.floor(Math.random()*t.length)]}(e),i=(n=[0,Math.PI/2,Math.PI,-Math.PI/2])[Math.floor(Math.random()*n.length)],a=y[Math.floor(Math.random()*y.length)];return new f({type:a,initialPosition:t,initialRotation:i,color:o,board:r})}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e){return{a:t.a*e.a+t.c*e.b,c:t.a*e.c+t.c*e.d,e:t.a*e.e+t.c*e.f+t.e,b:t.b*e.a+t.d*e.b,d:t.b*e.c+t.d*e.d,f:t.b*e.e+t.d*e.f+t.f}},s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];switch(t.length){case 0:throw new Error("no matrices provided");case 1:return t[0];case 2:return a(t[0],t[1]);default:var r=o(t),n=r[0],u=r[1],l=r.slice(2),c=a(n,u);return s.apply(void 0,i([c],l))}},u=function(t,e){return{a:1,c:0,e:t,b:0,d:1,f:e}},l=function(t,e){return{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}};e.computeRotatedPoint=function(t,e,r){var o=function(t,e,r){var n=Math.cos(t),o=Math.sin(t),i={a:n,c:-o,e:0,b:o,d:n,f:0};return void 0===e||void 0===r?i:s(u(e,r),i,u(-e,-r))}(r,e.x,e.y),i=l(o,n({},t));return{x:Math.round(i.x),y:Math.round(i.y)}},e.computeTranslatedPoint=function(t,e,r){var o=u(e,r),i=l(o,n({},t));return{x:Math.round(i.x),y:Math.round(i.y)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(0),i=function(){function t(){var t=this;this.buttons={right:!1,left:!1,down:!1,rotate:!1},this.onButtonPress=function(e){var r="keydown"===e.type;!function(t){return o.KEYBOARD_KEYS_SETTINGS.LEFT.includes(t.key)}(e)?!function(t){return o.KEYBOARD_KEYS_SETTINGS.RIGHT.includes(t.key)}(e)?!function(t){return o.KEYBOARD_KEYS_SETTINGS.DOWN.includes(t.key)}(e)?function(t){return o.KEYBOARD_KEYS_SETTINGS.ROTATE.includes(t.key)}(e)&&(t.buttons.rotate=r):t.buttons.down=r:t.buttons.right=r:t.buttons.left=r},window.addEventListener("keydown",this.onButtonPress),window.addEventListener("keyup",this.onButtonPress)}return Object.defineProperty(t.prototype,"right",{get:function(){var t=this.buttons.right;return this.buttons.right=!1,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){var t=this.buttons.left;return this.buttons.left=!1,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"down",{get:function(){var t=this.buttons.down;return this.buttons.down=!1,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){var t=this.buttons.rotate;return this.buttons.rotate=!1,t},enumerable:!0,configurable:!0}),t}();e.getControls=function(){return n||(n=new i),n}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=n(["start-screen","pause-screen","play-btn","continue-btn","restart-btn"].map((function(t){var e=document.getElementById(t);if(!e)throw Error(t+" element is not found");return e})),5),a=i[0],s=i[1],u=i[2],l=i[3],c=i[4],f=function(t){var e=new KeyboardEvent("keyup",{key:t});window.dispatchEvent(e)};u.addEventListener("click",(function(){var t=n(o.KEYBOARD_KEYS_SETTINGS.PLAY,1)[0];f(t)})),l.addEventListener("click",(function(){var t=n(o.KEYBOARD_KEYS_SETTINGS.PLAY,1)[0];f(t)})),c.addEventListener("click",(function(){var t=n(o.KEYBOARD_KEYS_SETTINGS.STOP,1)[0];f(t)}));var y=function(t){t.style.display="block"},h=function(t){t.style.display="none"};e.screens={displayStartScreen:function(){h(s),y(a)},displayPauseScreen:function(){h(a),y(s)},hideAll:function(){[a,s].forEach(h)}}},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var o,i=r(0),a=function(t){return t*i.BLOCK_SIZE},s=function(t,e){var r=e.x,n=e.y,o=e.color;t.fillStyle=o,t.fillRect(a(r)+i.GAP_SIZE,a(n)+i.GAP_SIZE,i.BLOCK_SIZE-2*i.GAP_SIZE,i.BLOCK_SIZE-2*i.GAP_SIZE)},u=function(){function t(){var t=document.getElementById(i.DOM_ELEMENT_IDS.CANVAS_ELEMENT);if(!t)throw Error("Canvas element is not found");this.renderingContext=t.getContext("2d")}return t.prototype.render=function(){for(var t,e,r,o,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];this.clear();try{for(var u=n(i),l=u.next();!l.done;l=u.next()){var c=l.value;try{for(var f=(r=void 0,n(c.getElements())),y=f.next();!y.done;y=f.next()){var h=y.value;s(this.renderingContext,h)}}catch(t){r={error:t}}finally{try{y&&!y.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}},t.prototype.clear=function(){this.renderingContext.clearRect(0,0,a(i.BOARD_SIZES.width),a(i.BOARD_SIZES.height))},t}();e.getRenderer=function(){return o||(o=new u),o}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXRyb21pbm8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyZWVucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXIudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDT0xPUl9USEVNRVMiLCJERUZBVUxUIiwiYmFja2dyb3VuZCIsInRldHJvbWlub3MiLCJCT0FSRF9TSVpFUyIsIndpZHRoIiwiaGVpZ2h0IiwiQkxPQ0tfU0laRSIsIkdBUF9TSVpFIiwiS0VZQk9BUkRfS0VZU19TRVRUSU5HUyIsIlJJR0hUIiwiTEVGVCIsIkRPV04iLCJST1RBVEUiLCJQQVVTRSIsIlNUT1AiLCJQTEFZIiwiRE9NX0VMRU1FTlRfSURTIiwiQ0FOVkFTX0VMRU1FTlQiLCJsb2FkR2FtZSIsImdhbWUiLCJTUEFXTl9QT0lOVCIsIngiLCJNYXRoIiwiZmxvb3IiLCJ5Iiwic3RhdHVzIiwiY29sb3JUaGVtZSIsInN0ZXAiLCJ0aW1lc3RhbXAiLCJleGVjTW92ZW1lbnRMaXN0ZW5lcnMiLCJsYXN0R2FtZUN5Y2xlIiwiY3ljbGUiLCJ0ZXRyb21pbm8iLCJyZW5kZXJlciIsInJlbmRlciIsImJvYXJkIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGhpcyIsInNldHVwQ29udHJvbHNMaXN0ZW5lcnMiLCJnZXRSZW5kZXJlciIsImNvbnRyb2xzIiwiZ2V0Q29udHJvbHMiLCJnZXRCb2FyZCIsInNwYXduVGV0cm9taW5vIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzY3JlZW5zIiwiZGlzcGxheVN0YXJ0U2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiaW5jbHVkZXMiLCJwbGF5Iiwic3RvcCIsInBhdXNlIiwicnVuIiwiZGlzcGxheVBhdXNlU2NyZWVuIiwiaGlkZUFsbCIsInJlc2V0R2FtZSIsImNsZWFyIiwiY3JlYXRlVGV0cm9taW5vIiwiaXNTdHVjayIsImFkZEVsZW1lbnRzIiwiZ2V0RWxlbWVudHMiLCJtb3ZlVGV0cm9taW5vRG93biIsImRlc3Ryb3lGdWxsUm93cyIsImlzR2FtZU92ZXIiLCJsZWZ0IiwibW92ZUxlZnQiLCJyaWdodCIsIm1vdmVSaWdodCIsImRvd24iLCJtb3ZlRG93biIsInJvdGF0ZSIsImlzT3V0T2ZCb2FyZCIsInRvRGVzdHJveVJvd0luZGV4IiwiZ2V0Um93VG9EZXN0cm95IiwidW5kZWZpbmVkIiwiZGVzdHJveVJvdyIsIkdhbWUiLCJnZXRLZXkiLCJwb2ludCIsInBhcnNlS2V5IiwidGFibGUiLCJNYXAiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJoYXMiLCJFcnJvciIsInNldCIsImRlc3Ryb3lSb3dBbmRNb3ZlRG93biIsInJvd0luZGV4IiwibW92ZUFsbERvd24iLCJpc1Bvc2l0aW9uRW1wdHkiLCJ2YWx1ZXMiLCJnZXRGaXJzdEZ1bGxSb3ciLCJrZXlzU29ydGVkQnlSb3ciLCJBcnJheSIsImZyb20iLCJrZXlzIiwic29ydCIsImEiLCJiIiwiY291bnQiLCJwcmV2S2V5IiwiZmlsdGVyIiwibWFwIiwiZm9yRWFjaCIsImRlbGV0ZSIsIkVsZW1lbnRzVGFibGUiLCJpc1Bvc2l0aW9uRmlsbGVkIiwiaXNQb3NpdGlvbkluc2lkZUJvYXJkT3JBYm92ZSIsIkJvYXJkIiwiZWxlbWVudEZhY3RvcmllcyIsImluaXRpYWxQb3NpdGlvbiIsImNvbG9yIiwicGl2b3RYIiwicGl2b3RZIiwiVFJBTlNMQVRJT05TX01BUCIsInR4IiwidHkiLCJvcHRpb25zIiwiaW5pdGlhbFJvdGF0aW9uIiwidHlwZSIsInBpdm90Iiwic3R1Y2siLCJhcHBseVJvdGF0aW9uIiwibW92ZSIsImFuZ2xlIiwiUEkiLCJjYW5Sb3RhdGUiLCJjb21wdXRlZCIsImNvbXB1dGVSb3RhdGVkUG9pbnQiLCJnZXRNb3ZlZEVsZW1lbnRzIiwiZGlyZWN0aW9uIiwiY29tcHV0ZVRyYW5zbGF0ZWRQb2ludCIsImdldE1vdmVkUGl2b3QiLCJjYW5Nb3ZlIiwibW92ZWQiLCJURVRST01JTk9fVFlQRVMiLCJjb2xvcnMiLCJURVRST01JTk9fUk9UQVRJT05fQU5HTEVTIiwicmFuZG9tIiwibGVuZ3RoIiwiZ2V0UmFuZG9tQ29sb3IiLCJUZXRyb21pbm8iLCJtdWx0aXBseU1hdHJpY2VzIiwibTEiLCJtMiIsImUiLCJmIiwidHJhbnNmb3JtIiwibWF0cmljZXMiLCJyZXN0IiwidHJhbnNsYXRlIiwiYXBwbHlUb1BvaW50IiwibWF0cml4IiwiY3giLCJjeSIsImNvc0FuZ2xlIiwiY29zIiwic2luQW5nbGUiLCJzaW4iLCJyb3RhdGlvbk1hdHJpeCIsInJvdW5kIiwiYnV0dG9ucyIsIm9uQnV0dG9uUHJlc3MiLCJpc0xlZnRLZXkiLCJpc1JpZ2h0S2V5IiwiaXNEb3duS2V5IiwiaXNSb3RhdGVLZXkiLCJ2YWwiLCJDb250cm9scyIsImlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0YXJ0U2NyZWVuIiwicGF1c2VTY3JlZW4iLCJwbGF5QnV0dG9uIiwiY29udGludWVCdXR0b24iLCJyZXN0YXJ0QnV0dG9uIiwiZGlzcGF0Y2hLZXlVcCIsIktleWJvYXJkRXZlbnQiLCJkaXNwYXRjaEV2ZW50Iiwic2hvdyIsInNjcmVlbkVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJoaWRlIiwiYm9hcmRUb0NhbnZhc0Nvb3JkIiwiY29vcmQiLCJkcmF3RWxlbWVudCIsImN0eCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY2FudmFzIiwicmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJtb2RlbHMiLCJtb2RlbCIsImNsZWFyUmVjdCIsIlJlbmRlcmVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQ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TXhJLGdCQUFhLDhCQUFFLENBQXRDLElBQU11QixFQUFPLFFBQ2hCeUcsRUFBWXpKLEtBQUs4SixpQkFBa0I5RyxJLHNNQUt6QyxZQUFBM0IsTUFBQSxXQUNFckIsS0FBSzhKLGlCQUFpQkksVUFBVSxFQUFHLEVBQUdYLEVBQW1CLEVBQUExTCxZQUFZQyxPQUFReUwsRUFBbUIsRUFBQTFMLFlBQVlFLFVBRWhILEVBeEJBLEdBNEJhLEVBQUFtQyxZQUFjLFdBS3pCLE9BSktQLElBQ0hBLEVBQVcsSUFBSXdLLEdBR1Z4SyIsImZpbGUiOiJpbmRleC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJpbXBvcnQge1xuICBJQ29sb3JUaGVtZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBDT0xPUl9USEVNRVM6IFJlY29yZDxzdHJpbmcsIElDb2xvclRoZW1lPiA9IHtcbiAgREVGQVVMVDoge1xuICAgIGJhY2tncm91bmQ6ICcjRkZGRkZGJyxcbiAgICB0ZXRyb21pbm9zOiBbXG4gICAgICAnI0Q5RTVENicsXG4gICAgICAnIzVGQUQ1NicsXG4gICAgICAnI0ZGQTYzMCcsXG4gICAgICAnI0YxNTk0NicsXG4gICAgICAnIzI1NEU3MCcsXG4gICAgXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBCT0FSRF9TSVpFUyA9IHtcbiAgd2lkdGg6IDE1LFxuICBoZWlnaHQ6IDI1LFxufTtcblxuZXhwb3J0IGNvbnN0IEJMT0NLX1NJWkUgPSAzMDtcbmV4cG9ydCBjb25zdCBHQVBfU0laRSA9IDE7XG5cbmV4cG9ydCBjb25zdCBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTID0ge1xuICBSSUdIVDogWydBcnJvd1JpZ2h0JywgJ2QnXSxcbiAgTEVGVDogWydBcnJvd0xlZnQnLCAnYSddLFxuICBET1dOOiBbJ0Fycm93RG93bicsICdzJ10sXG4gIFJPVEFURTogWydBcnJvd1VwJywgJ3cnXSxcbiAgUEFVU0U6IFsnRXNjYXBlJywgJ3AnXSxcbiAgU1RPUDogWydDdXN0b21TdG9wJ10sXG4gIFBMQVk6IFsnQ3VzdG9tUGxheSddLFxufTtcblxuZXhwb3J0IGNvbnN0IERPTV9FTEVNRU5UX0lEUyA9IHtcbiAgQ0FOVkFTX0VMRU1FTlQ6ICdjYW52YXMnLFxufTtcbiIsImltcG9ydCB7IGxvYWRHYW1lIH0gZnJvbSAnLi9nYW1lJztcblxubG9hZEdhbWUoKTtcbiIsImltcG9ydCB7XG4gIElDb2xvclRoZW1lLCBJQm9hcmQsIElUZXRyb21pbm8sIElQb2ludCwgSVJlbmRlcmVyLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldEJvYXJkIH0gZnJvbSAnLi9ib2FyZCc7XG5pbXBvcnQgeyBjcmVhdGVUZXRyb21pbm8gfSBmcm9tICcuL3RldHJvbWlubyc7XG5pbXBvcnQgeyBCT0FSRF9TSVpFUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldENvbnRyb2xzLCBJQ29udHJvbHMgfSBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCB7IENPTE9SX1RIRU1FUywgS0VZQk9BUkRfS0VZU19TRVRUSU5HUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHNjcmVlbnMgfSBmcm9tICcuL3NjcmVlbnMnO1xuaW1wb3J0IHsgZ2V0UmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyJztcblxudHlwZSBHYW1lU3RhdHVzID0gJ3J1bm5pbmcnIHwgJ3N0b3BwZWQnIHwgJ3BhdXNlZCc7XG5cbmNvbnN0IFNQQVdOX1BPSU5UOiBJUG9pbnQgPXtcbiAgeDogIE1hdGguZmxvb3IoQk9BUkRfU0laRVMud2lkdGggLyAyKSxcbiAgeTogLTMsXG59O1xuXG5jbGFzcyBHYW1lIHtcbiAgcHJpdmF0ZSBzdGF0dXM6IEdhbWVTdGF0dXMgPSAnc3RvcHBlZCc7XG4gIHByaXZhdGUgY29sb3JUaGVtZTogSUNvbG9yVGhlbWUgPSBDT0xPUl9USEVNRVMuREVGQVVMVDtcblxuICBwcml2YXRlIGJvYXJkOiBJQm9hcmQ7XG4gIHByaXZhdGUgY29udHJvbHM6IElDb250cm9scztcbiAgcHJpdmF0ZSByZW5kZXJlcjogSVJlbmRlcmVyO1xuICBwcml2YXRlIHRldHJvbWlubz86IElUZXRyb21pbm87XG5cbiAgcHJpdmF0ZSBsYXN0R2FtZUN5Y2xlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZXR1cENvbnRyb2xzTGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLnJlbmRlcmVyID0gZ2V0UmVuZGVyZXIoKTtcbiAgICB0aGlzLmNvbnRyb2xzID0gZ2V0Q29udHJvbHMoKTtcbiAgICB0aGlzLmJvYXJkID0gZ2V0Qm9hcmQoKTtcbiAgICB0aGlzLnNwYXduVGV0cm9taW5vKCk7XG5cbiAgICB0aGlzLmxhc3RHYW1lQ3ljbGUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIHNjcmVlbnMuZGlzcGxheVN0YXJ0U2NyZWVuKCk7XG4gIH1cblxuICBwcml2YXRlIHNldHVwQ29udHJvbHNMaXN0ZW5lcnMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB7IGtleSB9ID0gZXZlbnQ7XG4gICAgICBpZiAoS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5QTEFZLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICB9XG4gICAgICBpZiAoS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5TVE9QLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAoS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5QQVVTRS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcnVuKCkge1xuICAgIHRoaXMuc3RhdHVzID0gJ3J1bm5pbmcnO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zdGVwKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RlcCA9ICh0aW1lc3RhbXA6IG51bWJlcikgPT4ge1xuICAgIHRoaXMuZXhlY01vdmVtZW50TGlzdGVuZXJzKCk7XG4gICAgY29uc3QgcnVuTmV4dEN5Y2xlID0gKHRpbWVzdGFtcCAtIHRoaXMubGFzdEdhbWVDeWNsZSkgPiA4MDAgJiYgdGhpcy5zdGF0dXMgPT09ICdydW5uaW5nJztcbiAgICBpZiAocnVuTmV4dEN5Y2xlKSB7XG4gICAgICB0aGlzLmxhc3RHYW1lQ3ljbGUgPSB0aW1lc3RhbXA7XG4gICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRldHJvbWlubykge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy50ZXRyb21pbm8sIHRoaXMuYm9hcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLmJvYXJkKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdydW5uaW5nJykge1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnN0ZXApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSAncnVubmluZycpIHtcbiAgICAgIHRoaXMuc3RhdHVzID0gJ3BhdXNlZCc7XG4gICAgICBzY3JlZW5zLmRpc3BsYXlQYXVzZVNjcmVlbigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGxheSgpIHtcbiAgICBzY3JlZW5zLmhpZGVBbGwoKTtcbiAgICB0aGlzLnJ1bigpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdG9wKCkge1xuICAgIHRoaXMuc3RhdHVzID0gJ3N0b3BwZWQnO1xuICAgIHRoaXMucmVzZXRHYW1lKCk7XG4gICAgc2NyZWVucy5kaXNwbGF5U3RhcnRTY3JlZW4oKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRHYW1lKCkge1xuICAgIHRoaXMuYm9hcmQuY2xlYXIoKTtcbiAgICB0aGlzLnJlbmRlcmVyLmNsZWFyKCk7XG4gICAgdGhpcy5zcGF3blRldHJvbWlubygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzcGF3blRldHJvbWlubygpIHtcbiAgICB0aGlzLnRldHJvbWlubyA9IGNyZWF0ZVRldHJvbWlubyhTUEFXTl9QT0lOVCwgdGhpcy5jb2xvclRoZW1lLnRldHJvbWlub3MsIHRoaXMuYm9hcmQpO1xuICB9XG5cbiAgcHJpdmF0ZSBjeWNsZSgpIHtcbiAgICBpZiAodGhpcy50ZXRyb21pbm8gJiYgdGhpcy50ZXRyb21pbm8uaXNTdHVjaygpKSB7XG4gICAgICB0aGlzLmJvYXJkLmFkZEVsZW1lbnRzKHRoaXMudGV0cm9taW5vLmdldEVsZW1lbnRzKCkpO1xuICAgICAgdGhpcy5zcGF3blRldHJvbWlubygpO1xuICAgIH1cbiAgICB0aGlzLm1vdmVUZXRyb21pbm9Eb3duKCk7XG4gICAgdGhpcy5kZXN0cm95RnVsbFJvd3MoKTtcbiAgICBpZiAodGhpcy5pc0dhbWVPdmVyKCkpIHtcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXhlY01vdmVtZW50TGlzdGVuZXJzKCkge1xuICAgIGlmICh0aGlzLnRldHJvbWlubykge1xuICAgICAgaWYgKHRoaXMuY29udHJvbHMubGVmdCkge1xuICAgICAgICB0aGlzLnRldHJvbWluby5tb3ZlTGVmdCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29udHJvbHMucmlnaHQpIHtcbiAgICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZVJpZ2h0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb250cm9scy5kb3duKSB7XG4gICAgICAgIHRoaXMudGV0cm9taW5vLm1vdmVEb3duKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb250cm9scy5yb3RhdGUpIHtcbiAgICAgICAgdGhpcy50ZXRyb21pbm8ucm90YXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0dhbWVPdmVyKCkge1xuICAgIHJldHVybiB0aGlzLnRldHJvbWlubyAmJiB0aGlzLnRldHJvbWluby5pc1N0dWNrKCkgJiYgdGhpcy50ZXRyb21pbm8uaXNPdXRPZkJvYXJkKCk7XG4gIH1cblxuICBwcml2YXRlIGRlc3Ryb3lGdWxsUm93cygpIHtcbiAgICBsZXQgdG9EZXN0cm95Um93SW5kZXggPSB0aGlzLmJvYXJkLmdldFJvd1RvRGVzdHJveSgpO1xuICAgIHdoaWxlKHRvRGVzdHJveVJvd0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuYm9hcmQuZGVzdHJveVJvdyh0b0Rlc3Ryb3lSb3dJbmRleCk7XG4gICAgICB0b0Rlc3Ryb3lSb3dJbmRleCA9IHRoaXMuYm9hcmQuZ2V0Um93VG9EZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlVGV0cm9taW5vRG93bigpIHtcbiAgICBpZiAodGhpcy50ZXRyb21pbm8gJiYgIXRoaXMudGV0cm9taW5vLmlzU3R1Y2soKSkge1xuICAgICAgdGhpcy50ZXRyb21pbm8ubW92ZURvd24oKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGdhbWU6IEdhbWU7XG5cbmV4cG9ydCBjb25zdCBsb2FkR2FtZSA9ICgpID0+IHtcbiAgaWYgKCFnYW1lKSB7XG4gICAgZ2FtZSA9IG5ldyBHYW1lKCk7XG4gIH1cbn07XG4iLCJpbXBvcnQge1xuICBJQm9hcmQsXG4gIElUZXRyb21pbm9FbGVtZW50LFxuICBJUG9pbnQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQk9BUkRfU0laRVMsXG59IGZyb20gJy4vY29uc3RhbnRzJztcblxuY29uc3QgZ2V0S2V5ID0gKHBvaW50OiBJUG9pbnQpID0+IGAke3BvaW50Lnh9LCR7cG9pbnQueX1gO1xuXG5jb25zdCBwYXJzZUtleSA9IChrZXk6IHN0cmluZykgPT4ge1xuICBjb25zdCBbeCwgeV0gPSBrZXkuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcblxuICByZXR1cm4geyB4LCB5IH07XG59O1xuXG5jbGFzcyBFbGVtZW50c1RhYmxlIHtcbiAgcHJpdmF0ZSB0YWJsZTogTWFwPHN0cmluZywgSVRldHJvbWlub0VsZW1lbnQ+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGFibGUgPSBuZXcgTWFwKCk7XG4gIH1cblxuICBhZGRFbGVtZW50cyhlbGVtZW50czogSXRlcmFibGU8SVRldHJvbWlub0VsZW1lbnQ+KTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IGVsZW1lbnQ7XG4gICAgICBjb25zdCBrZXkgPSBnZXRLZXkoeyB4LCB5IH0pO1xuXG4gICAgICBpZiAodGhpcy50YWJsZS5oYXMoa2V5KSkge1xuICAgICAgICB0aHJvdyBFcnJvcihgVGhlIHBvc2l0aW9uICgke3h9LCAke3l9KSBvbiB0aGUgYm9hcmQgaXMgbm90IGVtcHR5YCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGFibGUuc2V0KGtleSwgZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveVJvd0FuZE1vdmVEb3duKHJvd0luZGV4OiBudW1iZXIpIHtcbiAgICB0aGlzLmRlc3Ryb3lSb3cocm93SW5kZXgpO1xuICAgIHRoaXMubW92ZUFsbERvd24ocm93SW5kZXgpO1xuICB9XG5cbiAgaXNQb3NpdGlvbkVtcHR5KHBvaW50OiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMudGFibGUuaGFzKGdldEtleShwb2ludCkpO1xuICB9XG5cbiAgZ2V0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUudmFsdWVzKCk7XG4gIH1cblxuICBnZXRGaXJzdEZ1bGxSb3coKSB7XG4gICAgY29uc3Qga2V5c1NvcnRlZEJ5Um93ID0gQXJyYXkuZnJvbSh0aGlzLnRhYmxlLmtleXMoKSkuc29ydCgoYSwgYikgPT4gcGFyc2VLZXkoYSkueSAtIHBhcnNlS2V5KGIpLnkpO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbGV0IFtwcmV2S2V5XSA9IGtleXNTb3J0ZWRCeVJvdztcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzU29ydGVkQnlSb3cpIHtcbiAgICAgIGNvbnN0IHsgeSB9ID0gcGFyc2VLZXkoa2V5KTtcbiAgICAgIGlmICh5ID09PSBwYXJzZUtleShwcmV2S2V5KS55KSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudCA9IDE7XG4gICAgICB9XG4gICAgICBwcmV2S2V5ID0ga2V5O1xuICAgICAgaWYgKGNvdW50ID49IEJPQVJEX1NJWkVTLndpZHRoKSB7XG4gICAgICAgIHJldHVybiB5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbW92ZUFsbERvd24ocm93SW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHRoaXMudGFibGUua2V5cygpKS5maWx0ZXIoKGtleSkgPT4gcGFyc2VLZXkoa2V5KS55IDwgcm93SW5kZXgpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0ga2V5cy5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMudGFibGUuZ2V0KGtleSk7XG4gICAgfSkgYXMgSVRldHJvbWlub0VsZW1lbnRbXTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgdGhpcy50YWJsZS5kZWxldGUoa2V5KTtcbiAgICB9KTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LnkgKz0gMTtcbiAgICAgIHRoaXMudGFibGUuc2V0KGdldEtleShlbGVtZW50KSwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGRlc3Ryb3lSb3cocm93SW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGtleXMgPSBBcnJheS5mcm9tKHRoaXMudGFibGUua2V5cygpKS5maWx0ZXIoKGtleSkgPT4gcGFyc2VLZXkoa2V5KS55ID09PSByb3dJbmRleCk7XG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHRoaXMudGFibGUuZGVsZXRlKGtleSk7XG4gICAgfSk7XG4gIH1cbn1cblxuY2xhc3MgQm9hcmQgaW1wbGVtZW50cyBJQm9hcmQge1xuICBwcml2YXRlIGVsZW1lbnRzOiBFbGVtZW50c1RhYmxlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZWxlbWVudHMgPSBuZXcgRWxlbWVudHNUYWJsZSgpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5lbGVtZW50cyA9IG5ldyBFbGVtZW50c1RhYmxlKCk7XG4gIH1cblxuICBhZGRFbGVtZW50cyhlbGVtZW50czogSXRlcmFibGU8SVRldHJvbWlub0VsZW1lbnQ+KSB7XG4gICAgdGhpcy5lbGVtZW50cy5hZGRFbGVtZW50cyhlbGVtZW50cyk7XG4gIH1cblxuICBnZXRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5nZXRFbGVtZW50cygpO1xuICB9XG5cbiAgaXNQb3NpdGlvbkZpbGxlZChwb2ludDogSVBvaW50KSB7XG4gICAgcmV0dXJuICF0aGlzLmVsZW1lbnRzLmlzUG9zaXRpb25FbXB0eShwb2ludCk7XG4gIH1cblxuICBpc1Bvc2l0aW9uSW5zaWRlQm9hcmRPckFib3ZlKHBvaW50OiBJUG9pbnQpIHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHBvaW50O1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gQk9BUkRfU0laRVM7XG5cbiAgICByZXR1cm4geCA+PSAwICYmIHggPD0gd2lkdGggLSAxICYmIHkgPD0gaGVpZ2h0IC0gMTtcbiAgfVxuXG4gIGRlc3Ryb3lSb3cocm93SW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMuZWxlbWVudHMuZGVzdHJveVJvd0FuZE1vdmVEb3duKHJvd0luZGV4KTtcbiAgfVxuXG4gIGdldFJvd1RvRGVzdHJveSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5nZXRGaXJzdEZ1bGxSb3coKTtcbiAgfVxufVxuXG5sZXQgYm9hcmQ6IElCb2FyZDtcblxuZXhwb3J0IGNvbnN0IGdldEJvYXJkID0gKCkgPT4ge1xuICBpZiAoIWJvYXJkKSB7XG4gICAgYm9hcmQgPSBuZXcgQm9hcmQoKTtcbiAgfVxuXG4gIHJldHVybiBib2FyZDtcbn07XG4iLCJpbXBvcnQge1xuICBJUG9pbnQsXG4gIElCb2FyZCxcbiAgSVRldHJvbWlub0VsZW1lbnQsXG4gIElUZXRyb21pbm8sXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZVJvdGF0ZWRQb2ludCxcbiAgY29tcHV0ZVRyYW5zbGF0ZWRQb2ludCxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBCT0FSRF9TSVpFUyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxudHlwZSBUZXRyb21pbm9Nb3ZlbWVudERpcmVjdGlvbiA9ICdsZWZ0JyB8ICdyaWdodCcgfCAnZG93bic7XG5cbnR5cGUgVGV0cm9taW5vVHlwZSA9IDAgfCAxIHwgMiB8IDMgfCA0O1xuXG5pbnRlcmZhY2UgSVRldHJvbWlub0luaXRPcHRpb25zIHtcbiAgdHlwZTogVGV0cm9taW5vVHlwZTtcbiAgaW5pdGlhbFBvc2l0aW9uOiBJUG9pbnQ7XG4gIGluaXRpYWxSb3RhdGlvbjogbnVtYmVyO1xuICBjb2xvcjogc3RyaW5nO1xuICBib2FyZDogSUJvYXJkO1xufVxuXG5pbnRlcmZhY2UgSVRyYW5zbGF0aW9uIHtcbiAgdHg6IG51bWJlcjtcbiAgdHk6IG51bWJlcjtcbn1cblxuY29uc3QgYnVpbGRUeXBlWmVyb0VsZW1lbnRzID0gKGluaXRpYWxQb3NpdGlvbjogSVBvaW50LCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgeDogcGl2b3RYLCB5OiBwaXZvdFkgfSA9IGluaXRpYWxQb3NpdGlvbjtcblxuICByZXR1cm4gW1xuICAgIHsgeDogcGl2b3RYIC0gMiwgeTogcGl2b3RZLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYIC0gMSwgeTogcGl2b3RZLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYIC0gMCwgeTogcGl2b3RZLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYICsgMSwgeTogcGl2b3RZLCBjb2xvciB9LFxuICBdO1xufTtcblxuY29uc3QgYnVpbGRUeXBlT25lRWxlbWVudHMgPSAoaW5pdGlhbFBvc2l0aW9uOiBJUG9pbnQsIGNvbG9yOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgeyB4OiBwaXZvdFgsIHk6IHBpdm90WSB9ID0gaW5pdGlhbFBvc2l0aW9uO1xuXG4gIHJldHVybiBbXG4gICAgeyB4OiBwaXZvdFggLSAxLCB5OiBwaXZvdFksIGNvbG9yIH0sXG4gICAgeyB4OiBwaXZvdFggLSAwLCB5OiBwaXZvdFksIGNvbG9yIH0sXG4gICAgeyB4OiBwaXZvdFggLSAxLCB5OiBwaXZvdFkgKyAxLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYIC0gMCwgeTogcGl2b3RZICsgMSwgY29sb3IgfSxcbiAgXTtcbn07XG5cbmNvbnN0IGJ1aWxkVHlwZVR3b0VsZW1lbnRzID0gKGluaXRpYWxQb3NpdGlvbjogSVBvaW50LCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgeDogcGl2b3RYLCB5OiBwaXZvdFkgfSA9IGluaXRpYWxQb3NpdGlvbjtcblxuICByZXR1cm4gW1xuICAgIHsgeDogcGl2b3RYIC0gMCwgeTogcGl2b3RZIC0gMSwgY29sb3IgfSxcbiAgICB7IHg6IHBpdm90WCAtIDAsIHk6IHBpdm90WSAtIDAsIGNvbG9yIH0sXG4gICAgeyB4OiBwaXZvdFggLSAwLCB5OiBwaXZvdFkgKyAxLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYICsgMSwgeTogcGl2b3RZICsgMSwgY29sb3IgfSxcbiAgXTtcbn07XG5cbmNvbnN0IGJ1aWxkVHlwZVRocmVlRWxlbWVudHMgPSAoaW5pdGlhbFBvc2l0aW9uOiBJUG9pbnQsIGNvbG9yOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgeyB4OiBwaXZvdFgsIHk6IHBpdm90WSB9ID0gaW5pdGlhbFBvc2l0aW9uO1xuXG4gIHJldHVybiBbXG4gICAgeyB4OiBwaXZvdFggLSAxLCB5OiBwaXZvdFkgLSAxLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYIC0gMSwgeTogcGl2b3RZIC0gMCwgY29sb3IgfSxcbiAgICB7IHg6IHBpdm90WCAtIDAsIHk6IHBpdm90WSAtIDAsIGNvbG9yIH0sXG4gICAgeyB4OiBwaXZvdFggLSAwLCB5OiBwaXZvdFkgKyAxLCBjb2xvciB9LFxuICBdO1xufTtcblxuY29uc3QgYnVpbGRUeXBlRm91ckVsZW1lbnRzID0gKGluaXRpYWxQb3NpdGlvbjogSVBvaW50LCBjb2xvcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHsgeDogcGl2b3RYLCB5OiBwaXZvdFkgfSA9IGluaXRpYWxQb3NpdGlvbjtcblxuICByZXR1cm4gW1xuICAgIHsgeDogcGl2b3RYIC0gMSwgeTogcGl2b3RZIC0gMCwgY29sb3IgfSxcbiAgICB7IHg6IHBpdm90WCAtIDAsIHk6IHBpdm90WSAtIDAsIGNvbG9yIH0sXG4gICAgeyB4OiBwaXZvdFggKyAxLCB5OiBwaXZvdFkgLSAwLCBjb2xvciB9LFxuICAgIHsgeDogcGl2b3RYIC0gMCwgeTogcGl2b3RZICsgMSwgY29sb3IgfSxcbiAgXTtcbn07XG5cbmNvbnN0IGVsZW1lbnRGYWN0b3JpZXMgPSBbXG4gIGJ1aWxkVHlwZVplcm9FbGVtZW50cyxcbiAgYnVpbGRUeXBlT25lRWxlbWVudHMsXG4gIGJ1aWxkVHlwZVR3b0VsZW1lbnRzLFxuICBidWlsZFR5cGVUaHJlZUVsZW1lbnRzLFxuICBidWlsZFR5cGVGb3VyRWxlbWVudHMsXG5dO1xuXG5jb25zdCBUUkFOU0xBVElPTlNfTUFQOiBSZWNvcmQ8VGV0cm9taW5vTW92ZW1lbnREaXJlY3Rpb24sIElUcmFuc2xhdGlvbj4gPSB7XG4gICdkb3duJzogeyB0eDogMCwgdHk6IDEgfSxcbiAgJ2xlZnQnOiB7IHR4OiAtMSwgdHk6IDAgfSxcbiAgJ3JpZ2h0JzogeyB0eDogMSwgdHk6IDAgfSxcbn07XG5cbmNsYXNzIFRldHJvbWlubyBpbXBsZW1lbnRzIElUZXRyb21pbm8ge1xuICBwcml2YXRlIHBpdm90OiBJUG9pbnQ7XG4gIHByaXZhdGUgc3R1Y2s6IGJvb2xlYW47XG4gIHByaXZhdGUgZWxlbWVudHM6IElUZXRyb21pbm9FbGVtZW50W107XG4gIHByaXZhdGUgYm9hcmQ6IElCb2FyZDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJVGV0cm9taW5vSW5pdE9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbml0aWFsUG9zaXRpb24sXG4gICAgICBjb2xvcixcbiAgICAgIGluaXRpYWxSb3RhdGlvbixcbiAgICAgIGJvYXJkLFxuICAgICAgdHlwZSxcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIHRoaXMucGl2b3QgPSB7IC4uLmluaXRpYWxQb3NpdGlvbiB9O1xuICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcbiAgICB0aGlzLnN0dWNrID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRGYWN0b3JpZXNbdHlwZV0oaW5pdGlhbFBvc2l0aW9uLCBjb2xvcik7XG5cbiAgICB0aGlzLmFwcGx5Um90YXRpb24oaW5pdGlhbFJvdGF0aW9uKTtcbiAgfVxuXG4gIGlzU3R1Y2soKSB7XG4gICAgcmV0dXJuIHRoaXMuc3R1Y2s7XG4gIH1cblxuICBpc091dE9mQm9hcmQoKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcbiAgICAgIGlmIChlbGVtZW50LnkgPCAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldEVsZW1lbnRzKCkge1xuICAgIHJldHVybiBbIC4uLnRoaXMuZWxlbWVudHMgXTtcbiAgfVxuXG4gIG1vdmVSaWdodCgpIHtcbiAgICB0aGlzLm1vdmUoJ3JpZ2h0Jyk7XG4gIH1cblxuICBtb3ZlTGVmdCgpIHtcbiAgICB0aGlzLm1vdmUoJ2xlZnQnKTtcbiAgfVxuXG4gIG1vdmVEb3duKCkge1xuICAgIHRoaXMubW92ZSgnZG93bicpO1xuICB9XG5cbiAgcm90YXRlKCkge1xuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5QSSAvIDI7XG4gICAgaWYgKHRoaXMuY2FuUm90YXRlKGFuZ2xlKSkge1xuICAgICAgdGhpcy5hcHBseVJvdGF0aW9uKGFuZ2xlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhblJvdGF0ZShhbmdsZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuZWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IHsgeCwgeSB9ID0gZWxlbWVudDtcbiAgICAgIGNvbnN0IGNvbXB1dGVkID0gY29tcHV0ZVJvdGF0ZWRQb2ludCh7IHgsIHkgfSwgdGhpcy5waXZvdCwgYW5nbGUpO1xuICAgICAgY29uc3QgaXNJbnNpZGVCb2FyZCA9IGNvbXB1dGVkLnggPj0gMCAmJiBjb21wdXRlZC54IDwgQk9BUkRfU0laRVMud2lkdGggJiYgY29tcHV0ZWQueSA8IEJPQVJEX1NJWkVTLmhlaWdodDtcblxuICAgICAgaWYgKCFpc0luc2lkZUJvYXJkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlSb3RhdGlvbihhbmdsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50cyA9IHRoaXMuZWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IGVsZW1lbnQ7XG4gICAgICBjb25zdCBjb21wdXRlZCA9IGNvbXB1dGVSb3RhdGVkUG9pbnQoeyB4LCB5IH0sIHRoaXMucGl2b3QsIGFuZ2xlKTtcblxuICAgICAgcmV0dXJuIHsgLi4uZWxlbWVudCwgLi4uY29tcHV0ZWQgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TW92ZWRFbGVtZW50cyhkaXJlY3Rpb246IFRldHJvbWlub01vdmVtZW50RGlyZWN0aW9uKTogSVRldHJvbWlub0VsZW1lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudHMubWFwKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IGVsZW1lbnQ7XG4gICAgICBjb25zdCB7IHR4LCB0eSB9ID0gVFJBTlNMQVRJT05TX01BUFtkaXJlY3Rpb25dO1xuICAgICAgY29uc3QgY29tcHV0ZWQgPSBjb21wdXRlVHJhbnNsYXRlZFBvaW50KHsgeCwgeSB9LCB0eCwgdHkpO1xuXG4gICAgICByZXR1cm4geyAuLi5lbGVtZW50LCAuLi5jb21wdXRlZCB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNb3ZlZFBpdm90KGRpcmVjdGlvbjogVGV0cm9taW5vTW92ZW1lbnREaXJlY3Rpb24pOiBJUG9pbnQge1xuICAgIGNvbnN0IHsgdHgsIHR5IH0gPSBUUkFOU0xBVElPTlNfTUFQW2RpcmVjdGlvbl07XG5cbiAgICByZXR1cm4gY29tcHV0ZVRyYW5zbGF0ZWRQb2ludCh0aGlzLnBpdm90LCB0eCwgdHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYW5Nb3ZlKGRpcmVjdGlvbjogVGV0cm9taW5vTW92ZW1lbnREaXJlY3Rpb24pOiBib29sZWFuIHtcbiAgICBjb25zdCBtb3ZlZCA9IHRoaXMuZ2V0TW92ZWRFbGVtZW50cyhkaXJlY3Rpb24pO1xuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIG1vdmVkKSB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IGVsZW1lbnQ7XG4gICAgICBpZiAoIXRoaXMuYm9hcmQuaXNQb3NpdGlvbkluc2lkZUJvYXJkT3JBYm92ZSh7IHgsIHkgfSkgfHwgdGhpcy5ib2FyZC5pc1Bvc2l0aW9uRmlsbGVkKHsgeCwgeSB9KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIG1vdmUoZGlyZWN0aW9uOiBUZXRyb21pbm9Nb3ZlbWVudERpcmVjdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5jYW5Nb3ZlKGRpcmVjdGlvbikpIHtcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICB0aGlzLnN0dWNrID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmdldE1vdmVkRWxlbWVudHMoZGlyZWN0aW9uKTtcbiAgICB0aGlzLnBpdm90ID0gdGhpcy5nZXRNb3ZlZFBpdm90KGRpcmVjdGlvbik7XG4gIH1cbn1cblxuY29uc3QgVEVUUk9NSU5PX1RZUEVTOiBUZXRyb21pbm9UeXBlW10gPSBbIDAsIDEsIDIsIDMsIDQgXTtcblxuY29uc3QgZ2V0UmFuZG9tQ29sb3IgPSAoY29sb3JzOiBzdHJpbmdbXSkgPT4ge1xuICByZXR1cm4gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXTtcbn07XG5cbmNvbnN0IGdldFJhbmRvbVJvdGF0aW9uID0gKCk6IG51bWJlciA9PiB7XG4gIGNvbnN0IFRFVFJPTUlOT19ST1RBVElPTl9BTkdMRVMgPSBbIDAsIE1hdGguUEkgLyAyLCBNYXRoLlBJLCAtTWF0aC5QSSAvIDIgXTtcblxuICByZXR1cm4gVEVUUk9NSU5PX1JPVEFUSU9OX0FOR0xFU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBURVRST01JTk9fUk9UQVRJT05fQU5HTEVTLmxlbmd0aCldO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRldHJvbWlubyA9IChpbml0aWFsUG9zaXRpb246IElQb2ludCwgY29sb3JzOiBzdHJpbmdbXSwgYm9hcmQ6IElCb2FyZCk6IElUZXRyb21pbm8gPT4ge1xuICBjb25zdCBjb2xvciA9IGdldFJhbmRvbUNvbG9yKGNvbG9ycyk7XG4gIGNvbnN0IGluaXRpYWxSb3RhdGlvbiA9IGdldFJhbmRvbVJvdGF0aW9uKCk7XG4gIGNvbnN0IHR5cGUgPSBURVRST01JTk9fVFlQRVNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogVEVUUk9NSU5PX1RZUEVTLmxlbmd0aCldO1xuXG4gIHJldHVybiBuZXcgVGV0cm9taW5vKHsgdHlwZSwgaW5pdGlhbFBvc2l0aW9uLCBpbml0aWFsUm90YXRpb24sIGNvbG9yLCBib2FyZCB9KTtcbn07XG4iLCJpbXBvcnQgeyBJUG9pbnQsIElNYXRyaXggfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgbXVsdGlwbHlNYXRyaWNlcyA9IChtMTogSU1hdHJpeCwgbTI6IElNYXRyaXgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhOiBtMS5hICogbTIuYSArIG0xLmMgKiBtMi5iLFxuICAgIGM6IG0xLmEgKiBtMi5jICsgbTEuYyAqIG0yLmQsXG4gICAgZTogbTEuYSAqIG0yLmUgKyBtMS5jICogbTIuZiArIG0xLmUsXG4gICAgYjogbTEuYiAqIG0yLmEgKyBtMS5kICogbTIuYixcbiAgICBkOiBtMS5iICogbTIuYyArIG0xLmQgKiBtMi5kLFxuICAgIGY6IG0xLmIgKiBtMi5lICsgbTEuZCAqIG0yLmYgKyBtMS5mLFxuICB9O1xufTtcblxuY29uc3QgdHJhbnNmb3JtID0gKC4uLm1hdHJpY2VzOiBJTWF0cml4W10pOiBJTWF0cml4ID0+IHtcbiAgc3dpdGNoIChtYXRyaWNlcy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIG1hdHJpY2VzIHByb3ZpZGVkJyk7XG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIG1hdHJpY2VzWzBdO1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiBtdWx0aXBseU1hdHJpY2VzKG1hdHJpY2VzWzBdLCBtYXRyaWNlc1sxXSk7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgW20xLCBtMiwgLi4ucmVzdF0gPSBtYXRyaWNlcztcbiAgICAgIGNvbnN0IG0gPSBtdWx0aXBseU1hdHJpY2VzKG0xLCBtMik7XG5cbiAgICAgIHJldHVybiB0cmFuc2Zvcm0obSwgLi4ucmVzdCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCB0cmFuc2xhdGUgPSAodHg6IG51bWJlciwgdHk6IG51bWJlcik6IElNYXRyaXggPT4ge1xuICByZXR1cm4ge1xuICAgIGE6IDEsXG4gICAgYzogMCxcbiAgICBlOiB0eCxcbiAgICBiOiAwLFxuICAgIGQ6IDEsXG4gICAgZjogdHksXG4gIH07XG59O1xuXG5jb25zdCByb3RhdGUgPSAoYW5nbGU6IG51bWJlciwgY3g6IG51bWJlciwgY3k6IG51bWJlcikgPT4ge1xuICBjb25zdCBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgY29uc3Qgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgY29uc3Qgcm90YXRpb25NYXRyaXggPSB7XG4gICAgYTogY29zQW5nbGUsXG4gICAgYzogLXNpbkFuZ2xlLFxuICAgIGU6IDAsXG4gICAgYjogc2luQW5nbGUsXG4gICAgZDogY29zQW5nbGUsXG4gICAgZjogMCxcbiAgfTtcblxuICBpZiAodHlwZW9mIGN4ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY3kgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHJvdGF0aW9uTWF0cml4O1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybSh0cmFuc2xhdGUoY3gsIGN5KSwgcm90YXRpb25NYXRyaXgsIHRyYW5zbGF0ZSgtY3gsIC1jeSkpO1xufTtcblxuY29uc3QgYXBwbHlUb1BvaW50ID0gKG1hdHJpeDogSU1hdHJpeCwgcG9pbnQ6IElQb2ludCkgPT4ge1xuICByZXR1cm4ge1xuICAgIHg6IG1hdHJpeC5hICogcG9pbnQueCArIG1hdHJpeC5jICogcG9pbnQueSArIG1hdHJpeC5lLFxuICAgIHk6IG1hdHJpeC5iICogcG9pbnQueCArIG1hdHJpeC5kICogcG9pbnQueSArIG1hdHJpeC5mLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVSb3RhdGVkUG9pbnQgPSAocG9pbnQ6IElQb2ludCwgcGl2b3Q6IElQb2ludCwgYW5nbGU6IG51bWJlcikgPT4ge1xuICBjb25zdCBtYXRyaXggPSByb3RhdGUoYW5nbGUsIHBpdm90LngsIHBpdm90LnkpO1xuXG4gIGNvbnN0IHAgPSBhcHBseVRvUG9pbnQobWF0cml4LCB7IC4uLnBvaW50IH0pIGFzIElQb2ludDtcblxuICByZXR1cm4geyB4OiBNYXRoLnJvdW5kKHAueCksIHk6IE1hdGgucm91bmQocC55KSB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVUcmFuc2xhdGVkUG9pbnQgPSAocG9pbnQ6IElQb2ludCwgdHg6IG51bWJlciwgdHk6IG51bWJlcikgPT4ge1xuICBjb25zdCBtYXRyaXggPSB0cmFuc2xhdGUodHgsIHR5KTtcblxuICBjb25zdCBwID0gYXBwbHlUb1BvaW50KG1hdHJpeCwgeyAuLi5wb2ludCB9KSBhcyBJUG9pbnQ7XG5cbiAgcmV0dXJuIHsgeDogTWF0aC5yb3VuZChwLngpLCB5OiBNYXRoLnJvdW5kKHAueSkgfTtcbn07XG4iLCJpbXBvcnQgeyBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBpc0xlZnRLZXkgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IEtFWUJPQVJEX0tFWVNfU0VUVElOR1MuTEVGVC5pbmNsdWRlcyhldmVudC5rZXkpO1xuXG5jb25zdCBpc1JpZ2h0S2V5ID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTLlJJR0hULmluY2x1ZGVzKGV2ZW50LmtleSk7XG5cbmNvbnN0IGlzRG93bktleSA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5ET1dOLmluY2x1ZGVzKGV2ZW50LmtleSk7XG5cbmNvbnN0IGlzUm90YXRlS2V5ID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTLlJPVEFURS5pbmNsdWRlcyhldmVudC5rZXkpO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb250cm9scyB7XG4gIGxlZnQ6IGJvb2xlYW47XG4gIHJpZ2h0OiBib29sZWFuO1xuICBkb3duOiBib29sZWFuO1xuICByb3RhdGU6IGJvb2xlYW47XG59XG5cbmNsYXNzIENvbnRyb2xzIGltcGxlbWVudHMgSUNvbnRyb2xzIHtcbiAgcHJpdmF0ZSBidXR0b25zOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHtcbiAgICByaWdodDogZmFsc2UsXG4gICAgbGVmdDogZmFsc2UsXG4gICAgZG93bjogZmFsc2UsXG4gICAgcm90YXRlOiBmYWxzZSxcbiAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25CdXR0b25QcmVzcyk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbkJ1dHRvblByZXNzKTtcbiAgfVxuXG4gIGdldCByaWdodCgpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmJ1dHRvbnMucmlnaHQ7XG4gICAgdGhpcy5idXR0b25zLnJpZ2h0ID0gZmFsc2U7XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZ2V0IGxlZnQoKSB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5idXR0b25zLmxlZnQ7XG4gICAgdGhpcy5idXR0b25zLmxlZnQgPSBmYWxzZTtcblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBnZXQgZG93bigpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmJ1dHRvbnMuZG93bjtcbiAgICB0aGlzLmJ1dHRvbnMuZG93biA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGdldCByb3RhdGUoKSB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5idXR0b25zLnJvdGF0ZTtcbiAgICB0aGlzLmJ1dHRvbnMucm90YXRlID0gZmFsc2U7XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1dHRvblByZXNzID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50eXBlID09PSAna2V5ZG93bic7XG5cbiAgICBpZiAoaXNMZWZ0S2V5KGV2ZW50KSkge1xuICAgICAgdGhpcy5idXR0b25zLmxlZnQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGlzUmlnaHRLZXkoZXZlbnQpKSB7XG4gICAgICB0aGlzLmJ1dHRvbnMucmlnaHQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGlzRG93bktleShldmVudCkpIHtcbiAgICAgIHRoaXMuYnV0dG9ucy5kb3duID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChpc1JvdGF0ZUtleShldmVudCkpIHtcbiAgICAgIHRoaXMuYnV0dG9ucy5yb3RhdGUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGNvbnRyb2xzOiBDb250cm9scztcblxuZXhwb3J0IGNvbnN0IGdldENvbnRyb2xzID0gKCkgPT4ge1xuICBpZiAoIWNvbnRyb2xzKSB7XG4gICAgY29udHJvbHMgPSBuZXcgQ29udHJvbHMoKTtcbiAgfVxuXG4gIHJldHVybiBjb250cm9scztcbn07XG4iLCJpbXBvcnQgeyBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5jb25zdCBTVEFSVF9TQ1JFRU5fRUxFTUVOVF9JRCA9ICdzdGFydC1zY3JlZW4nO1xuY29uc3QgUEFVU0VfU0NSRUVOX0VMRU1FTlRfSUQgPSAncGF1c2Utc2NyZWVuJztcbmNvbnN0IFBMQVlfQlVUVE9OX0VMRU1FTlRfSUQgPSAncGxheS1idG4nO1xuY29uc3QgQ09OVElOVUVfQlVUVE9OX0VMRU1FTlRfSUQgPSAnY29udGludWUtYnRuJztcbmNvbnN0IFJFU1RBUlRfQlVUVE9OX0VMRU1FTlRfSUQgPSAncmVzdGFydC1idG4nO1xuXG5jb25zdCBtb3VudEVsZW1lbnRzID0gKGlkczogc3RyaW5nW10pID0+IHtcbiAgcmV0dXJuIGlkcy5tYXAoKGlkKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHRocm93IEVycm9yKGAkeyBpZCB9IGVsZW1lbnQgaXMgbm90IGZvdW5kYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0pO1xufTtcblxuY29uc3QgW1xuICBzdGFydFNjcmVlbixcbiAgcGF1c2VTY3JlZW4sXG4gIHBsYXlCdXR0b24sXG4gIGNvbnRpbnVlQnV0dG9uLFxuICByZXN0YXJ0QnV0dG9uLFxuXSA9IG1vdW50RWxlbWVudHMoW1xuICBTVEFSVF9TQ1JFRU5fRUxFTUVOVF9JRCxcbiAgUEFVU0VfU0NSRUVOX0VMRU1FTlRfSUQsXG4gIFBMQVlfQlVUVE9OX0VMRU1FTlRfSUQsXG4gIENPTlRJTlVFX0JVVFRPTl9FTEVNRU5UX0lELFxuICBSRVNUQVJUX0JVVFRPTl9FTEVNRU5UX0lELFxuXSk7XG5cbmNvbnN0IGRpc3BhdGNoS2V5VXAgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZSA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXl1cCcsIHsga2V5IH0pO1xuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChlKTtcbn07XG5cbnBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IFtrZXldID0gS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5QTEFZO1xuICBkaXNwYXRjaEtleVVwKGtleSk7XG59KTtcblxuY29udGludWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IFtrZXldID0gS0VZQk9BUkRfS0VZU19TRVRUSU5HUy5QTEFZO1xuICBkaXNwYXRjaEtleVVwKGtleSk7XG59KTtcblxucmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgW2tleV0gPSBLRVlCT0FSRF9LRVlTX1NFVFRJTkdTLlNUT1A7XG4gIGRpc3BhdGNoS2V5VXAoa2V5KTtcbn0pO1xuXG5jb25zdCBzaG93ID0gKHNjcmVlbkVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIHNjcmVlbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG5jb25zdCBoaWRlID0gKHNjcmVlbkVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gIHNjcmVlbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cbmV4cG9ydCBjb25zdCBzY3JlZW5zID0ge1xuICBkaXNwbGF5U3RhcnRTY3JlZW46ICgpID0+IHtcbiAgICBoaWRlKHBhdXNlU2NyZWVuKTtcbiAgICBzaG93KHN0YXJ0U2NyZWVuKTtcbiAgfSxcbiAgZGlzcGxheVBhdXNlU2NyZWVuOiAoKSA9PiB7XG4gICAgaGlkZShzdGFydFNjcmVlbik7XG4gICAgc2hvdyhwYXVzZVNjcmVlbik7XG4gIH0sXG4gIGhpZGVBbGw6ICgpID0+IHtcbiAgICBbIHN0YXJ0U2NyZWVuLCBwYXVzZVNjcmVlbiBdLmZvckVhY2goaGlkZSk7XG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgSVJlbmRlcmVyLCBJRWxlbWVudHNDb250YWluZXIsIElUZXRyb21pbm9FbGVtZW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBET01fRUxFTUVOVF9JRFMsIEJPQVJEX1NJWkVTLCBCTE9DS19TSVpFLCBHQVBfU0laRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuY29uc3QgYm9hcmRUb0NhbnZhc0Nvb3JkID0gKGNvb3JkOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gY29vcmQgKiBCTE9DS19TSVpFO1xufTtcblxuY29uc3QgZHJhd0VsZW1lbnQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGVsZW1lbnQ6IElUZXRyb21pbm9FbGVtZW50KTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgeCwgeSB9ID0gZWxlbWVudDtcbiAgY29uc3QgeyBjb2xvciB9ID0gZWxlbWVudDtcblxuICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gIGN0eC5maWxsUmVjdChcbiAgICBib2FyZFRvQ2FudmFzQ29vcmQoeCkgKyBHQVBfU0laRSxcbiAgICBib2FyZFRvQ2FudmFzQ29vcmQoeSkgKyBHQVBfU0laRSxcbiAgICBCTE9DS19TSVpFIC0gR0FQX1NJWkUgKiAyLFxuICAgIEJMT0NLX1NJWkUgLSBHQVBfU0laRSAqIDIsXG4gICk7XG59O1xuXG5jbGFzcyBSZW5kZXJlciBpbXBsZW1lbnRzIElSZW5kZXJlciB7XG4gIHByaXZhdGUgcmVuZGVyaW5nQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKERPTV9FTEVNRU5UX0lEUy5DQU5WQVNfRUxFTUVOVCkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgaWYgKCFjYW52YXMpIHtcbiAgICAgIHRocm93IEVycm9yKCdDYW52YXMgZWxlbWVudCBpcyBub3QgZm91bmQnKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmluZ0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIH1cblxuICByZW5kZXIoLi4ubW9kZWxzOiBJRWxlbWVudHNDb250YWluZXJbXSkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IG1vZGVsIG9mIG1vZGVscykge1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIG1vZGVsLmdldEVsZW1lbnRzKCkpIHtcbiAgICAgICAgZHJhd0VsZW1lbnQodGhpcy5yZW5kZXJpbmdDb250ZXh0LCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLnJlbmRlcmluZ0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGJvYXJkVG9DYW52YXNDb29yZChCT0FSRF9TSVpFUy53aWR0aCksIGJvYXJkVG9DYW52YXNDb29yZChCT0FSRF9TSVpFUy5oZWlnaHQpKTtcbiAgfVxufVxuXG5sZXQgcmVuZGVyZXI6IElSZW5kZXJlcjtcblxuZXhwb3J0IGNvbnN0IGdldFJlbmRlcmVyID0gKCkgPT4ge1xuICBpZiAoIXJlbmRlcmVyKSB7XG4gICAgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbiAgfVxuXG4gIHJldHVybiByZW5kZXJlcjtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9